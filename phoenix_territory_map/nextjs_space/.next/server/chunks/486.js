"use strict";exports.id=486,exports.ids=[486],exports.modules={68486:(e,t,i)=>{i.r(t),i.d(t,{default:()=>p});var o=i(10326),l=i(17577),n=i(31270),r=i(77863),s=i(48496);let a={width:"100%",height:"600px"},d=e=>"miami"===e?{lat:25.7617,lng:-80.1918}:"dallas"===e?{lat:32.7767,lng:-96.797}:"orlando"===e?{lat:28.5383,lng:-81.3792}:"jacksonville"===e?{lat:30.3322,lng:-81.6557}:"portCharlotte"===e?{lat:26.9762,lng:-82.0909}:{lat:33.4484,lng:-112.074};function p({densityMode:e,areaFilter:t,location:i,accountType:p="residential"}){let[c,x]=(0,l.useState)([]),[g,h]=(0,l.useState)([]),[m,f]=(0,l.useState)(null),[u,y]=(0,l.useState)(!1),[C,j]=(0,l.useState)([]),[v,b]=(0,l.useState)(null),k=(0,l.useRef)(null),z=t=>"active"===e?(0,s.sJ)(i,"active",t.activeCount,p):"terminated"===e?(0,s.sJ)(i,"terminated",t.terminatedCount,p):"lifetime"===e?(0,s.sJ)(i,"lifetime",t.avgCustomerLifetimeMonths||0):(0,s.sJ)(i,"churn",t.churnRate),S=(0,l.useCallback)(e=>{k.current=e,y(!0)},[]);return(0,o.jsxs)(n.b6,{mapContainerStyle:a,center:d(i),zoom:9,onLoad:S,options:{disableDefaultUI:!1,zoomControl:!0,streetViewControl:!1,mapTypeControl:!0,fullscreenControl:!0},children:[g.map(e=>{if(e?.geometry){var t;let l=(t=e.geometry,t?.coordinates?"Polygon"===t.type?t.coordinates.map(e=>e.map(([e,t])=>({lat:t,lng:e}))):"MultiPolygon"===t.type?t.coordinates.flatMap(e=>e.map(e=>e.map(([e,t])=>({lat:t,lng:e})))):[]:[]),r=z(e),s="miami"===i||"dallas"===i||"orlando"===i||"jacksonville"===i?{strokeColor:"#1e293b",strokeOpacity:.85,strokeWeight:2}:{strokeColor:"#64748b",strokeOpacity:.5,strokeWeight:1};return o.jsx(n.Q8,{paths:l,options:{fillColor:r,fillOpacity:.7,...s,clickable:!0},onClick:()=>f(e)},e.zipCode)}if("arizona"===i&&e?.center){let t=z(e),i=150*Math.sqrt(e.totalHistorical);return o.jsx(n.jC,{position:e.center,icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:t,fillOpacity:.7,strokeColor:"#64748b",strokeOpacity:.8,strokeWeight:2,scale:Math.max(i/10,8)},onClick:()=>f(e)},e.zipCode)}return null}),C.filter(e=>!1!==t[e.area]).map(e=>{let t="NEXT YEAR"===e.category;return o.jsx(n.jC,{position:{lat:e.lat,lng:e.lng},icon:{path:"M 0,-24 L 6,-8 L 24,-8 L 10,4 L 16,20 L 0,8 L -16,20 L -10,4 L -24,-8 L -6,-8 Z",fillColor:t?"#DC2626":"#F97316",fillOpacity:1,strokeColor:"#FFFFFF",strokeWeight:2,scale:t?.7:.6,anchor:new google.maps.Point(0,0)},onClick:()=>b(e),title:e.label,zIndex:1e3},`office-${e.zipCode}-${e.category}`)}),m&&o.jsx(n.kp,{position:m.center,onCloseClick:()=>f(null),children:(0,o.jsxs)("div",{style:{minWidth:"250px",padding:"8px"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[(0,o.jsxs)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"bold"},children:["ZIP ",m.zipCode]}),"arizona"===i&&m.area&&o.jsx("span",{style:{background:{West:"#3b82f6",Central:"#10b981",East:"#f97316",Tucson:"#a855f7"}[m.area]||"#6b7280",color:"white",padding:"4px 10px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:(0,r.G)(m.area)}),"miami"===i&&m.city&&o.jsx("span",{style:{background:"#0891b2",color:"white",padding:"4px 10px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:m.city})]}),(0,o.jsxs)("div",{style:{background:"#f9fafb",padding:"12px",borderRadius:"8px",marginBottom:"12px"},children:[(0,o.jsxs)("div",{style:{marginBottom:"8px"},children:[o.jsx("span",{style:{color:"#059669",fontWeight:"600",fontSize:"20px"},children:m.activeCount}),o.jsx("span",{style:{color:"#6b7280",fontSize:"14px",marginLeft:"4px"},children:"Active Accounts"})]}),(0,o.jsxs)("div",{children:[o.jsx("span",{style:{color:"#dc2626",fontWeight:"600",fontSize:"20px"},children:m.terminatedCount}),o.jsx("span",{style:{color:"#6b7280",fontSize:"14px",marginLeft:"4px"},children:"Terminated"})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",fontSize:"13px"},children:[(0,o.jsxs)("div",{children:[o.jsx("div",{style:{color:"#6b7280",marginBottom:"2px"},children:"Total Historical"}),o.jsx("div",{style:{fontWeight:"600",fontSize:"16px"},children:m.totalHistorical})]}),(0,o.jsxs)("div",{children:[o.jsx("div",{style:{color:"#6b7280",marginBottom:"2px"},children:"Churn Rate"}),(0,o.jsxs)("div",{style:{fontWeight:"600",fontSize:"16px",color:m.churnRate>85?"#dc2626":m.churnRate>75?"#f97316":"#059669"},children:[m.churnRate,"%"]})]}),void 0!==m.avgCustomerLifetimeMonths&&(0,o.jsxs)("div",{style:{gridColumn:"1 / -1",marginTop:"4px"},children:[o.jsx("div",{style:{color:"#6b7280",marginBottom:"2px"},children:"Avg Customer Lifetime"}),(0,o.jsxs)("div",{style:{fontWeight:"600",fontSize:"16px",color:"#059669"},children:[m.avgCustomerLifetimeMonths.toFixed(1)," months",(0,o.jsxs)("span",{style:{color:"#6b7280",fontSize:"13px",marginLeft:"4px"},children:["(",(m.avgCustomerLifetimeMonths/12).toFixed(1)," years)"]})]})]})]})]})}),v&&o.jsx(n.kp,{position:{lat:v.lat,lng:v.lng},onCloseClick:()=>b(null),children:(0,o.jsxs)("div",{style:{minWidth:"200px",padding:"12px"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[o.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:"NEXT YEAR"===v.category?"#DC2626":"#F97316"}}),o.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:v.label})]}),(0,o.jsxs)("div",{style:{fontSize:"14px",color:"#64748b",marginBottom:"8px"},children:[o.jsx("div",{style:{marginBottom:"4px"},children:v.fullName||(0,r.G)(v.area)}),(0,o.jsxs)("div",{style:{marginBottom:"8px"},children:["ZIP ",v.zipCode]})]}),o.jsx("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #e2e8f0"},children:o.jsx("span",{style:{fontSize:"12px",fontWeight:"600",padding:"4px 8px",borderRadius:"4px",backgroundColor:"NEXT YEAR"===v.category?"#FEE2E2":"#FFEDD5",color:"NEXT YEAR"===v.category?"#B91C1C":"#C2410C"},children:v.category})})]})})]})}}};