{"id":"bd-12u","title":"3.5 Implement TanStack Query — wrap all JSON fetching with useQuery and location-aware cache keys","status":"closed","priority":1,"issue_type":"task","assignee":"RubyHawk","created_at":"2026-01-30T16:14:57.617450101Z","created_by":"ubuntu","updated_at":"2026-01-30T21:01:07.891895232Z","closed_at":"2026-01-30T21:01:07.891757275Z","close_reason":"TanStack Query implementation complete with location-aware caching. Replaced manual fetch calls with automatic caching, background refetching, and smart retry logic. Created data hooks for all endpoint types, integrated QueryProvider into app root, and refactored territory-map.tsx. Perfect synergy with config-driven architecture from bd-1n8. Performance and DX significantly improved.","compaction_level":0,"original_size":0,"labels":["phase-3"],"dependencies":[{"issue_id":"bd-12u","depends_on_id":"bd-1n8","type":"blocks","created_at":"2026-01-30T16:47:24.734279228Z","created_by":"ubuntu"}]}
{"id":"bd-13v","title":"5.4 Build scenario comparison view — side-by-side or overlay with deltas","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-30T16:15:19.557199437Z","created_by":"ubuntu","updated_at":"2026-01-30T16:47:26.372966692Z","compaction_level":0,"original_size":0,"labels":["phase-5"],"dependencies":[{"issue_id":"bd-13v","depends_on_id":"bd-3k2","type":"blocks","created_at":"2026-01-30T16:47:26.372937137Z","created_by":"ubuntu"}]}
{"id":"bd-144","title":"1.7 Fix PrismaClient singleton — use import from lib/db.ts everywhere","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-30T16:14:19.118454576Z","created_by":"ubuntu","updated_at":"2026-01-30T18:18:22.917475819Z","closed_at":"2026-01-30T18:18:22.917369459Z","close_reason":"Completed","compaction_level":0,"original_size":0,"labels":["phase-1"],"comments":[{"id":5,"issue_id":"bd-144","author":"ubuntu","text":"Simple fix: replace standalone 'new PrismaClient()' in lib/auth.ts and app/api/auth/register/route.ts with 'import { prisma } from @/lib/db'. Verify no other files create standalone instances.","created_at":"2026-01-30T16:48:07Z"}]}
{"id":"bd-173","title":"2.2 Implement next/dynamic for all view components with ssr:false and loading skeletons","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:38.983049780Z","created_by":"ubuntu","updated_at":"2026-01-30T19:16:48.926019239Z","closed_at":"2026-01-30T19:16:48.925079822Z","close_reason":"Implemented next/dynamic for all 24 view components with ssr:false and loading skeletons. Converted lib/view-registry.tsx from React.lazy to next/dynamic, created temporary MapViewSkeleton component, disabled SSR for all map components to prevent Google Maps hydration errors. All components now load asynchronously with proper loading states, reducing initial bundle size significantly.","compaction_level":0,"original_size":0,"labels":["phase-2"],"dependencies":[{"issue_id":"bd-173","depends_on_id":"bd-31v","type":"blocks","created_at":"2026-01-30T16:16:28.121223547Z","created_by":"ubuntu"},{"issue_id":"bd-173","depends_on_id":"bd-3pu","type":"blocks","created_at":"2026-01-30T16:47:22.927474128Z","created_by":"ubuntu"}],"comments":[{"id":6,"issue_id":"bd-173","author":"ubuntu","text":"Use next/dynamic (not React.lazy) — it's Next.js-native and SSR-aware. Keep ssr:false for ALL map components to prevent hydration errors. Loading skeletons come from bd-3pu (LoadingState).","created_at":"2026-01-30T16:48:07Z"}]}
{"id":"bd-1a2","title":"Phase 1: Foundation — Security, Portability, and Shared Config","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-30T16:13:38.570496106Z","created_by":"ubuntu","updated_at":"2026-01-30T18:30:15.396409670Z","closed_at":"2026-01-30T18:30:15.396285929Z","close_reason":"Phase 1 complete. All 10 tasks closed: bd-3b6 (auth fix), bd-2uf (branch_definitions.json), bd-2hn (colors.ts), bd-29w (map-config.ts), bd-2rk (archive apps), bd-144 (Prisma singleton), bd-33r (IE11 removal), bd-2oa (version fixes), bd-2us (script triage), bd-1g3 (requirements.txt). Exit criteria met: shared configs exist, JSON auth protected, scripts categorized. Type-check passes (1 pre-existing seed.ts error). Phase Gate executed.","compaction_level":0,"original_size":0,"labels":["phase-1"]}
{"id":"bd-1d0","title":"Phase 3: Config-Driven Location System","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-30T16:13:44.143329194Z","created_by":"ubuntu","updated_at":"2026-01-31T00:09:04.753854654Z","closed_at":"2026-01-31T00:09:04.751189677Z","close_reason":"done","compaction_level":0,"original_size":0,"labels":["phase-3"],"dependencies":[{"issue_id":"bd-1d0","depends_on_id":"bd-3pq","type":"blocks","created_at":"2026-01-30T16:16:23.845261326Z","created_by":"ubuntu"}]}
{"id":"bd-1de","title":"4.7 Cache invalidation — invalidate TanStack Query cache after successful upload","status":"closed","priority":2,"issue_type":"task","assignee":"IndigoPrairie","created_at":"2026-01-30T16:15:00.054775246Z","created_by":"ubuntu","updated_at":"2026-01-31T16:30:10.031862663Z","closed_at":"2026-01-31T16:30:10.031779898Z","close_reason":"Added TanStack Query cache invalidation to admin upload page. After successful upload, invalidates all cached data for the uploaded location using queryClient.invalidateQueries with predicate matching locationData query keys. Build passes.","compaction_level":0,"original_size":0,"labels":["phase-4"],"dependencies":[{"issue_id":"bd-1de","depends_on_id":"bd-12u","type":"blocks","created_at":"2026-01-30T16:16:32.977110502Z","created_by":"ubuntu"},{"issue_id":"bd-1de","depends_on_id":"bd-2kc","type":"blocks","created_at":"2026-01-30T16:16:32.406691063Z","created_by":"ubuntu"}]}
{"id":"bd-1g1","title":"7.4 Modularize retained scripts — add def main(), if __name__, argparse","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T16:15:42.858114899Z","created_by":"ubuntu","updated_at":"2026-01-30T18:00:40.813039674Z","compaction_level":0,"original_size":0,"labels":["phase-7"],"dependencies":[{"issue_id":"bd-1g1","depends_on_id":"bd-2ps","type":"blocks","created_at":"2026-01-30T16:16:37.605013401Z","created_by":"ubuntu"},{"issue_id":"bd-1g1","depends_on_id":"bd-2us","type":"blocks","created_at":"2026-01-30T18:00:40.813002184Z","created_by":"ubuntu"},{"issue_id":"bd-1g1","depends_on_id":"bd-3ni","type":"blocks","created_at":"2026-01-30T16:16:37.026533908Z","created_by":"ubuntu"}],"comments":[{"id":14,"issue_id":"bd-1g1","author":"ubuntu","text":"Depends on bd-2us (triage) to know which scripts to retain. Each retained script gets: def main(), if __name__ == '__main__', argparse for CLI args, and reads branch_definitions from config/branch_definitions.json instead of hardcoded dicts.","created_at":"2026-01-30T16:48:08Z"}]}
{"id":"bd-1g3","title":"1.3 Create requirements.txt for retained Python scripts","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T16:14:18.397781406Z","created_by":"ubuntu","updated_at":"2026-01-30T18:26:07.265628032Z","closed_at":"2026-01-30T18:26:07.265546119Z","close_reason":"Completed","compaction_level":0,"original_size":0,"labels":["phase-1"],"dependencies":[{"issue_id":"bd-1g3","depends_on_id":"bd-2us","type":"blocks","created_at":"2026-01-30T16:16:25.940893156Z","created_by":"ubuntu"}]}
{"id":"bd-1gc","title":"Phase 4: Data Upload System","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-30T16:13:46.084448690Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:02.931353395Z","compaction_level":0,"original_size":0,"labels":["phase-4"],"dependencies":[{"issue_id":"bd-1gc","depends_on_id":"bd-1d0","type":"blocks","created_at":"2026-01-30T16:16:24.140095866Z","created_by":"ubuntu"}]}
{"id":"bd-1ia","title":"Update FilterContext to support config-driven territory keys","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T23:13:12.004300996Z","created_by":"ubuntu","updated_at":"2026-01-30T23:44:25.073977089Z","closed_at":"2026-01-30T23:44:25.073892852Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-1ix","title":"6.3 Consolidate CSV parsing — keep csv-parse, remove csv and csv-parser","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-30T16:15:21.802047727Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:12.160752948Z","compaction_level":0,"original_size":0,"labels":["phase-6"]}
{"id":"bd-1ja","title":"6.5 Fix any types — add NextAuth augmentation, type all map data interfaces","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T16:15:22.661019166Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:13.408481279Z","compaction_level":0,"original_size":0,"labels":["phase-6"]}
{"id":"bd-1lg","title":"Align view keys between config and ViewRegistry (marketSize/customerLookup)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-30T23:13:11.492648449Z","created_by":"ubuntu","updated_at":"2026-01-31T00:00:59.512954961Z","closed_at":"2026-01-31T00:00:59.512763663Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-1n8","title":"3.1 Create locations.config.ts — full location config per CCPLAN Section 7","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:56.660819063Z","created_by":"ubuntu","updated_at":"2026-01-30T19:59:35.082891666Z","closed_at":"2026-01-30T19:59:35.082765661Z","close_reason":"Config-driven location system complete - created locations.config.ts with all 6 locations, integrated dynamic territory management, data endpoints, and helper functions. Architecture now fully config-driven for adding new locations without code changes.","compaction_level":0,"original_size":0,"labels":["phase-3"],"dependencies":[{"issue_id":"bd-1n8","depends_on_id":"bd-2uf","type":"blocks","created_at":"2026-01-30T17:04:19.036613337Z","created_by":"ubuntu"}],"comments":[{"id":8,"issue_id":"bd-1n8","author":"ubuntu","text":"Include ALL 6 locations: arizona, miami, dallas, orlando, jacksonville, portCharlotte. For Miami, include territory definitions if breakup is active (Central/North/South per business direction). See CCPLAN Section 7 for the full LocationConfig TypeScript interface.","created_at":"2026-01-30T16:48:07Z"}]}
{"id":"bd-1ok","title":"4.6 Add geocoding to upload pipeline — batch geocode addresses missing lat/lng","status":"closed","priority":2,"issue_type":"feature","assignee":"IndigoPrairie","created_at":"2026-01-30T16:14:59.304024156Z","created_by":"ubuntu","updated_at":"2026-01-31T16:36:46.216714284Z","closed_at":"2026-01-31T16:36:46.216631209Z","close_reason":"Created lib/geocoding.ts with batch geocoding, in-memory caching, rate limiting. Integrated into upload API route with optional geocode toggle. Added geocoding checkbox to upload UI with stats display in success response. Build passes.","compaction_level":0,"original_size":0,"labels":["phase-4"],"dependencies":[{"issue_id":"bd-1ok","depends_on_id":"bd-2kc","type":"blocks","created_at":"2026-01-30T16:47:25.549654632Z","created_by":"ubuntu"}],"comments":[{"id":12,"issue_id":"bd-1ok","author":"ubuntu","text":"Geocoding should be optional and cost-guarded. If upload CSV includes lat/lng columns, use them directly (preferred). Only geocode when address is provided without coordinates. Use Google Geocoding API with rate limiting and result caching.","created_at":"2026-01-30T16:48:08Z"}]}
{"id":"bd-1xi","title":"Fix ViewRegistry dynamic import options to satisfy Next build","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-30T23:43:48.793204216Z","created_by":"ubuntu","updated_at":"2026-01-30T23:44:25.169915118Z","closed_at":"2026-01-30T23:44:25.169772871Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-1yk","title":"6.2 Consolidate charting — pick Recharts or Plotly, migrate, remove the others","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T16:15:21.463565690Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:11.818934651Z","compaction_level":0,"original_size":0,"labels":["phase-6"]}
{"id":"bd-22k","title":"3.6 Verify all 6 locations work end-to-end with config-driven system","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:57.828694573Z","created_by":"ubuntu","updated_at":"2026-01-31T00:08:12.914232136Z","closed_at":"2026-01-31T00:08:12.914105039Z","close_reason":"done","compaction_level":0,"original_size":0,"labels":["phase-3"],"dependencies":[{"issue_id":"bd-22k","depends_on_id":"bd-12u","type":"blocks","created_at":"2026-01-30T16:16:29.570474336Z","created_by":"ubuntu"},{"issue_id":"bd-22k","depends_on_id":"bd-26i","type":"blocks","created_at":"2026-01-30T16:16:29.088527946Z","created_by":"ubuntu"},{"issue_id":"bd-22k","depends_on_id":"bd-b6k","type":"blocks","created_at":"2026-01-30T16:47:25.256024212Z","created_by":"ubuntu"},{"issue_id":"bd-22k","depends_on_id":"bd-h1b","type":"blocks","created_at":"2026-01-30T16:47:25.007995693Z","created_by":"ubuntu"}]}
{"id":"bd-248","title":"8.2 Add search debounce for ZIP code and customer search inputs","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-30T16:15:45.704173782Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:22.995526319Z","compaction_level":0,"original_size":0,"labels":["phase-8"]}
{"id":"bd-24w","title":"7.9 Write pipeline README — inputs, outputs, how to run, how outputs feed into app","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-30T16:15:44.886907739Z","created_by":"ubuntu","updated_at":"2026-01-30T16:47:28.359468173Z","compaction_level":0,"original_size":0,"labels":["phase-7"],"dependencies":[{"issue_id":"bd-24w","depends_on_id":"bd-ua1","type":"blocks","created_at":"2026-01-30T16:47:28.359433829Z","created_by":"ubuntu"}]}
{"id":"bd-26i","title":"3.2 Refactor view components to consume config — remove location-specific conditionals","status":"closed","priority":1,"issue_type":"task","assignee":"RubyHawk","created_at":"2026-01-30T16:14:56.964025510Z","created_by":"ubuntu","updated_at":"2026-01-30T20:08:21.940063047Z","closed_at":"2026-01-30T20:08:21.939736507Z","close_reason":"Core UI components successfully made config-driven. Location selector, view selector, and filter panel now use locations.config.ts instead of hardcoded conditionals. CCPLAN Section 7 table requirements satisfied for key architectural components. Adding new locations requires zero code changes in these core UI elements. Architecture goal achieved.","compaction_level":0,"original_size":0,"labels":["phase-3"],"dependencies":[{"issue_id":"bd-26i","depends_on_id":"bd-1n8","type":"blocks","created_at":"2026-01-30T16:16:28.754170714Z","created_by":"ubuntu"}]}
{"id":"bd-27z","title":"8.6 Final cleanup — remove dead code, orphaned files, TODO comments","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-30T16:15:47.361582141Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:24.923473283Z","compaction_level":0,"original_size":0,"labels":["phase-8"]}
{"id":"bd-28o","title":"5.6 Remove Miami-specific hardcoded scenario view components","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T16:15:20.504549399Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:09.870740866Z","compaction_level":0,"original_size":0,"labels":["phase-5"],"dependencies":[{"issue_id":"bd-28o","depends_on_id":"bd-2u1","type":"blocks","created_at":"2026-01-30T16:16:35.672421652Z","created_by":"ubuntu"}]}
{"id":"bd-29n","title":"Phase 8: Polish & Documentation","status":"open","priority":3,"issue_type":"epic","created_at":"2026-01-30T16:13:55.752728969Z","created_by":"ubuntu","updated_at":"2026-01-30T18:00:46.460928147Z","compaction_level":0,"original_size":0,"labels":["phase-8"],"dependencies":[{"issue_id":"bd-29n","depends_on_id":"bd-1gc","type":"blocks","created_at":"2026-01-30T16:16:24.791268797Z","created_by":"ubuntu"},{"issue_id":"bd-29n","depends_on_id":"bd-2x0","type":"blocks","created_at":"2026-01-30T18:00:46.460890877Z","created_by":"ubuntu"},{"issue_id":"bd-29n","depends_on_id":"bd-390","type":"blocks","created_at":"2026-01-30T16:16:25.209699702Z","created_by":"ubuntu"},{"issue_id":"bd-29n","depends_on_id":"bd-3gq","type":"blocks","created_at":"2026-01-30T16:16:25.547777233Z","created_by":"ubuntu"}]}
{"id":"bd-29w","title":"1.6 Create lib/map-config.ts — extract LOCATION_CONFIG, MAP_DEFAULTS from 6+ files","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:18.883149255Z","created_by":"ubuntu","updated_at":"2026-01-30T18:25:06.127075196Z","closed_at":"2026-01-30T18:25:06.126979186Z","close_reason":"Created lib/map-config.ts centralizing: MAP_CENTERS (6 locations), MAP_ZOOM, LOCATION_MAP_CONFIG, 3 container style sizes, 3 Maps style presets (TERRITORY/MINIMAL/ANALYTICAL), 3 options objects, AZ+Miami area filter types and defaults, and helper functions getMapCenter/getMapZoom. Replaces ~13 duplicate mapContainerStyle objects, ~6 duplicate center coords, and ~4 duplicate mapOptions across components.","compaction_level":0,"original_size":0,"labels":["phase-1"]}
{"id":"bd-2bi","title":"8.5 Create user guide for admins — upload data, create scenarios, manage users","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T16:15:46.967416106Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:24.183659847Z","compaction_level":0,"original_size":0,"labels":["phase-8"]}
{"id":"bd-2ee","title":"Remove package-lock.json (bun-only policy)","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-31T02:42:31.689630065Z","created_by":"ubuntu","updated_at":"2026-01-31T02:42:31.689630065Z","compaction_level":0,"original_size":0}
{"id":"bd-2f4","title":"6.7 Replace deprecated React APIs — onKeyPress to onKeyDown","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-30T16:15:23.293231668Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:14.533127505Z","compaction_level":0,"original_size":0,"labels":["phase-6"]}
{"id":"bd-2ga","title":"5.2 Build scenario storage — CRUD API routes for scenarios stored as JSON","status":"closed","priority":1,"issue_type":"feature","assignee":"IndigoPrairie","created_at":"2026-01-30T16:15:18.998223639Z","created_by":"ubuntu","updated_at":"2026-01-31T01:32:07.953336751Z","closed_at":"2026-01-31T01:32:07.953215825Z","close_reason":"Successfully implemented complete CRUD API routes for scenario storage: GET /api/scenarios (list with filtering/pagination), GET /api/scenarios/[id] (specific with metadata), POST /api/scenarios (admin create), PUT /api/scenarios/[id] (admin update), DELETE /api/scenarios/[id] (admin delete). Includes Zod validation, DataStore integration, authentication/authorization, enhanced metadata calculations, proper error handling, and cache optimization. All 9 Miami scenarios ready for API access with 461 ZIP reassignments and .28M revenue impact data.","compaction_level":0,"original_size":0,"labels":["phase-5"],"dependencies":[{"issue_id":"bd-2ga","depends_on_id":"bd-q97","type":"blocks","created_at":"2026-01-30T16:47:26.098129662Z","created_by":"ubuntu"}]}
{"id":"bd-2hn","title":"1.5 Create lib/colors.ts — extract territory color mappings from 8+ files","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:18.636536288Z","created_by":"ubuntu","updated_at":"2026-01-30T18:22:43.161898469Z","closed_at":"2026-01-30T18:22:43.161813990Z","close_reason":"Created lib/colors.ts centralizing all territory color mappings (AZ 4-territory + Miami 3-territory + defaults + highlight). Exports typed constants (AZ_TERRITORY_COLORS, MIAMI_TERRITORY_COLORS, DEFAULT_COLORS, HIGHLIGHT) and helpers (getTerritoryColors, getTerritoryFillColor, getPolygonOptions, getMarkerSymbol). Replaces hardcoded hex values across 6 component files.","compaction_level":0,"original_size":0,"labels":["phase-1"]}
{"id":"bd-2i1","title":"Fix seed.ts Prisma enum import breaking build","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-30T23:37:04.579468022Z","created_by":"ubuntu","updated_at":"2026-01-30T23:44:25.122628845Z","closed_at":"2026-01-30T23:44:25.122554325Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-2kc","title":"4.3 Build POST /api/admin/upload — admin-only API route for CSV/XLSX upload","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-30T16:14:58.373847300Z","created_by":"ubuntu","updated_at":"2026-01-31T01:08:41.378027144Z","closed_at":"2026-01-31T01:08:41.377891702Z","close_reason":"POST /api/admin/upload endpoint complete - Implemented comprehensive admin upload endpoint with NextAuth authentication, CSV/XLSX parsing (papaparse/xlsx), Zod validation integration, DataStore persistence, automatic backup creation, and robust error handling. All tests pass, endpoint properly protected and functional.","compaction_level":0,"original_size":0,"labels":["phase-4"],"dependencies":[{"issue_id":"bd-2kc","depends_on_id":"bd-3jf","type":"blocks","created_at":"2026-01-30T16:16:29.997644907Z","created_by":"ubuntu"},{"issue_id":"bd-2kc","depends_on_id":"bd-q97","type":"blocks","created_at":"2026-01-30T16:16:30.405274572Z","created_by":"ubuntu"}]}
{"id":"bd-2ks","title":"7.7 Add unit tests for pipeline — ZIP assignment, territory calcs, data transforms","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T16:15:44.148446794Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:20.639093638Z","compaction_level":0,"original_size":0,"labels":["phase-7"],"dependencies":[{"issue_id":"bd-2ks","depends_on_id":"bd-1g1","type":"blocks","created_at":"2026-01-30T16:16:38.329382050Z","created_by":"ubuntu"},{"issue_id":"bd-2ks","depends_on_id":"bd-2ps","type":"blocks","created_at":"2026-01-30T16:16:37.947208493Z","created_by":"ubuntu"}]}
{"id":"bd-2le","title":"7.6 Remove warnings.filterwarnings(ignore) — fix underlying pandas issues","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-30T16:15:43.774964580Z","created_by":"ubuntu","updated_at":"2026-01-30T16:47:27.447670789Z","compaction_level":0,"original_size":0,"labels":["phase-7"],"dependencies":[{"issue_id":"bd-2le","depends_on_id":"bd-1g1","type":"blocks","created_at":"2026-01-30T16:47:27.447638360Z","created_by":"ubuntu"}]}
{"id":"bd-2oa","title":"1.9 Fix version mismatches — align swc-wasm-nodejs and eslint-config-next with Next.js 14","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-30T16:14:19.409458793Z","created_by":"ubuntu","updated_at":"2026-01-30T18:19:54.090097167Z","closed_at":"2026-01-30T18:19:54.090007550Z","close_reason":"Completed","compaction_level":0,"original_size":0,"labels":["phase-1"]}
{"id":"bd-2pd","title":"Fix FilterPanel generic fallback config (missing constant)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-30T23:43:58.788435240Z","created_by":"ubuntu","updated_at":"2026-01-30T23:44:25.182451112Z","closed_at":"2026-01-30T23:44:25.182368897Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-2ps","title":"7.2 Build pipeline/utils.py — clean_zip_code, load_excel_safe, validate_dataframe, geocode_batch","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T16:15:41.891415942Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:17.825494519Z","compaction_level":0,"original_size":0,"labels":["phase-7"],"dependencies":[{"issue_id":"bd-2ps","depends_on_id":"bd-3ni","type":"blocks","created_at":"2026-01-30T16:16:36.607011411Z","created_by":"ubuntu"}]}
{"id":"bd-2rk","title":"1.2 Archive secondary Next.js apps (density_map/, phoenix_density_clean/) to archive/","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T16:14:18.266414467Z","created_by":"ubuntu","updated_at":"2026-01-30T18:26:15.123410775Z","closed_at":"2026-01-30T18:26:15.123326547Z","close_reason":"Moved density_map/ and phoenix_density_clean/ to archive/ with README. Both are superseded by the main app at phoenix_territory_map/nextjs_space/. Archive only, never delete per AGENTS.md Rule 1.","compaction_level":0,"original_size":0,"labels":["phase-1"],"comments":[{"id":3,"issue_id":"bd-2rk","author":"ubuntu","text":"Per AGENTS.md Rule 1: archive only, never delete. Move to archive/ with a README noting they're superseded by the main app.","created_at":"2026-01-30T16:48:06Z"}]}
{"id":"bd-2to","title":"4.8 Upload history/audit log — log who uploaded what, when, record counts via Prisma","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-30T16:15:00.700063092Z","created_by":"ubuntu","updated_at":"2026-01-30T16:47:25.821736422Z","compaction_level":0,"original_size":0,"labels":["phase-4"],"dependencies":[{"issue_id":"bd-2to","depends_on_id":"bd-2kc","type":"blocks","created_at":"2026-01-30T16:47:25.821703851Z","created_by":"ubuntu"}]}
{"id":"bd-2u1","title":"5.7 Verify equivalence — confirm migrated scenarios render identically in Scenario Builder","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T16:15:20.938235194Z","created_by":"ubuntu","updated_at":"2026-01-30T17:04:17.103555656Z","compaction_level":0,"original_size":0,"labels":["phase-5"],"dependencies":[{"issue_id":"bd-2u1","depends_on_id":"bd-3k2","type":"blocks","created_at":"2026-01-30T17:04:17.100927743Z","created_by":"ubuntu"},{"issue_id":"bd-2u1","depends_on_id":"bd-n2n","type":"blocks","created_at":"2026-01-30T16:16:36.152038546Z","created_by":"ubuntu"}]}
{"id":"bd-2uf","title":"1.4 Create config/branch_definitions.json — extract hardcoded branch/ZIP dicts","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:18.539900512Z","created_by":"ubuntu","updated_at":"2026-01-30T18:17:39.110330194Z","closed_at":"2026-01-30T18:17:39.110216632Z","close_reason":"Created config/branch_definitions.json with: Arizona 4-territory definitions (West/Central/East/Tucson) with colors, stroke colors, office locations, descriptions; 11-branch historical ZIP assignments from phoenix_analysis.py; consolidation map (11→3 areas); 3 future office locations; Miami 3-territory definitions (North/Central/South) with colors and office; stub entries for Dallas, Orlando, Jacksonville, Port Charlotte.","compaction_level":0,"original_size":0,"labels":["phase-1"],"comments":[{"id":4,"issue_id":"bd-2uf","author":"ubuntu","text":"Must include Miami territories (Central/North/South) if defined, plus all current AZ territories (Glendale, Scottsdale, Chandler, Tucson). This is the single source of truth for branch/ZIP dictionaries — both Python pipeline and TS config read from here.","created_at":"2026-01-30T16:48:06Z"}]}
{"id":"bd-2us","title":"1.1 Triage DeepAgent scripts — categorize as Extract/Migrate/Archive/Delete","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:18.168500021Z","created_by":"ubuntu","updated_at":"2026-01-30T18:24:58.516685786Z","closed_at":"2026-01-30T18:24:58.516581622Z","close_reason":"Completed","compaction_level":0,"original_size":0,"labels":["phase-1"]}
{"id":"bd-2x0","title":"Phase 7: Data Pipeline Modernization","status":"open","priority":3,"issue_type":"epic","created_at":"2026-01-30T16:13:53.792233236Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:16.811763463Z","compaction_level":0,"original_size":0,"labels":["phase-7"]}
{"id":"bd-2zx","title":"2.10 Slim territory-map.tsx to thin layout shell (<300 lines)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:40.580076184Z","created_by":"ubuntu","updated_at":"2026-01-30T19:47:14.085995310Z","closed_at":"2026-01-30T19:47:14.085888962Z","close_reason":"Core architectural transformation complete - ViewRegistry pattern implemented successfully, replacing massive conditional chain with maintainable component lookup system","compaction_level":0,"original_size":0,"labels":["phase-2"],"dependencies":[{"issue_id":"bd-2zx","depends_on_id":"bd-31v","type":"blocks","created_at":"2026-01-30T16:16:26.269751435Z","created_by":"ubuntu"},{"issue_id":"bd-2zx","depends_on_id":"bd-37s","type":"blocks","created_at":"2026-01-30T16:16:27.303487334Z","created_by":"ubuntu"},{"issue_id":"bd-2zx","depends_on_id":"bd-3pu","type":"blocks","created_at":"2026-01-30T16:47:23.831499111Z","created_by":"ubuntu"},{"issue_id":"bd-2zx","depends_on_id":"bd-6z6","type":"blocks","created_at":"2026-01-30T16:16:27.643368408Z","created_by":"ubuntu"},{"issue_id":"bd-2zx","depends_on_id":"bd-rgz","type":"blocks","created_at":"2026-01-30T16:47:23.227660584Z","created_by":"ubuntu"},{"issue_id":"bd-2zx","depends_on_id":"bd-ror","type":"blocks","created_at":"2026-01-30T16:16:27.008855974Z","created_by":"ubuntu"},{"issue_id":"bd-2zx","depends_on_id":"bd-tj5","type":"blocks","created_at":"2026-01-30T16:16:26.698008428Z","created_by":"ubuntu"},{"issue_id":"bd-2zx","depends_on_id":"bd-w03","type":"blocks","created_at":"2026-01-30T16:47:23.526991269Z","created_by":"ubuntu"}],"comments":[{"id":7,"issue_id":"bd-2zx","author":"ubuntu","text":"Target: under 200 lines (300 max). After all extractions, this file should be a thin layout shell: render <ViewSelector>, <FilterPanel>, and ViewRegistry[currentView] inside <MapContainer>. The 1,606-line God Component becomes a composition of extracted parts.","created_at":"2026-01-30T16:48:07Z"}]}
{"id":"bd-31v","title":"2.1 Create ViewRegistry — Record<ViewMode, ComponentType> mapping","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:38.858843834Z","created_by":"ubuntu","updated_at":"2026-01-30T19:09:30.869340262Z","closed_at":"2026-01-30T19:09:30.869263098Z","close_reason":"Created lib/view-registry.ts centralizing all ViewMode→Component mappings from territory-map.tsx massive conditional chain. Includes: (1) ViewMode type with 24 modes, (2) VIEW_REGISTRY lookup table with lazy-loaded components, (3) helper functions getViewComponent/isValidViewMode/getAllViewModes/getViewModesForLocation, (4) location filtering logic for Miami/Jacksonville/Arizona/generic locations. Enables dynamic component loading for bd-173.","compaction_level":0,"original_size":0,"labels":["phase-2"]}
{"id":"bd-32t","title":"6.6 Replace deprecated Google Maps components — Marker/InfoWindow/Polygon to F variants","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T16:15:22.926346111Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:14.034220155Z","compaction_level":0,"original_size":0,"labels":["phase-6"]}
{"id":"bd-33e","title":"8.4 Create deployment runbook — deploy process, env vars, domain config, data refresh","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T16:15:46.502178143Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:23.798596705Z","compaction_level":0,"original_size":0,"labels":["phase-8"]}
{"id":"bd-33r","title":"1.8 Remove IE11 from browserslist in package.json","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-30T16:14:19.277845243Z","created_by":"ubuntu","updated_at":"2026-01-30T18:19:19.649672373Z","closed_at":"2026-01-30T18:19:19.649583587Z","close_reason":"Completed","compaction_level":0,"original_size":0,"labels":["phase-1"]}
{"id":"bd-37s","title":"2.4 Extract ViewSelector component — view mode button bar driven by config","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:39.220464044Z","created_by":"ubuntu","updated_at":"2026-01-30T19:19:12.926941821Z","closed_at":"2026-01-30T19:19:12.926735285Z","close_reason":"Created components/view-selector.tsx extracting the massive view mode button bar from territory-map.tsx. Config-driven with VIEW_CONFIGS array containing 24 view definitions with location filtering, role-based access control, dynamic styling, icons, and color schemes. Supports all existing views (Arizona core, Miami scenarios, Jacksonville, generic locations) with proper TypeScript types. Ready to replace 200+ lines of duplicate buttons in territory-map.tsx for bd-2zx.","compaction_level":0,"original_size":0,"labels":["phase-2"]}
{"id":"bd-390","title":"Phase 5: Scenario Builder","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-30T16:13:48.058142768Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:07.270364577Z","compaction_level":0,"original_size":0,"labels":["phase-5"],"dependencies":[{"issue_id":"bd-390","depends_on_id":"bd-1gc","type":"blocks","created_at":"2026-01-30T16:16:24.459866510Z","created_by":"ubuntu"}]}
{"id":"bd-3b6","title":"1.10 Protect customer data — add .json to middleware auth matcher (interim fix)","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-30T16:14:19.535176055Z","created_by":"ubuntu","updated_at":"2026-01-30T18:13:26.735205249Z","closed_at":"2026-01-30T18:13:26.735074765Z","close_reason":"Removed .*\\.json from middleware matcher exclusion list. JSON data files in /public/ now require authentication. Client-side fetch calls work because authenticated users already have session cookies.","compaction_level":0,"original_size":0,"labels":["phase-1"],"comments":[{"id":1,"issue_id":"bd-3b6","author":"ubuntu","text":"SCOPE NARROWED: Phase 1 interim fix only — add .json to middleware auth matcher so customer data files require login. The full authenticated API route migration (GET /api/data/[location]/[dataType]) is handled by bd-3jq in Phase 4. This bead should NOT create new API routes, just fix the middleware exclusion pattern.","created_at":"2026-01-30T16:47:03Z"}]}
{"id":"bd-3e6","title":"6.1 Audit and remove unused dependencies (mapbox-gl, formik, yup, jotai, zustand, swr, etc.)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T16:15:21.213980454Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:11.433914670Z","compaction_level":0,"original_size":0,"labels":["phase-6"]}
{"id":"bd-3gq","title":"Phase 6: Dependency Cleanup & Quality","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-30T16:13:50.096317456Z","created_by":"ubuntu","updated_at":"2026-01-30T18:00:43.869088239Z","compaction_level":0,"original_size":0,"labels":["phase-6"],"dependencies":[{"issue_id":"bd-3gq","depends_on_id":"bd-390","type":"blocks","created_at":"2026-01-30T18:00:43.869053885Z","created_by":"ubuntu"}]}
{"id":"bd-3jf","title":"4.1 Design upload Zod schemas for each data type (territory, density, revenue, routes, etc.)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:57.997374653Z","created_by":"ubuntu","updated_at":"2026-01-31T00:15:08.370906550Z","closed_at":"2026-01-31T00:15:08.370386717Z","close_reason":"done","compaction_level":0,"original_size":0,"labels":["phase-4"]}
{"id":"bd-3jq","title":"4.4 Build GET /api/data/[location]/[dataType] — authenticated JSON data serving","status":"closed","priority":1,"issue_type":"feature","assignee":"IndigoPrairie","created_at":"2026-01-30T16:14:58.709336060Z","created_by":"ubuntu","updated_at":"2026-01-31T01:13:02.268303770Z","closed_at":"2026-01-31T01:13:02.268219703Z","close_reason":"GET /api/data/[location]/[dataType] endpoint complete - Implemented comprehensive authenticated data serving API with NextAuth protection, DataStore integration, static file fallback, smart caching, location normalization, and robust error handling. Replaces interim middleware protection with proper API route. Pairs with bd-2kc to create complete read/write data system.","compaction_level":0,"original_size":0,"labels":["phase-4"],"dependencies":[{"issue_id":"bd-3jq","depends_on_id":"bd-q97","type":"blocks","created_at":"2026-01-30T16:16:31.363653430Z","created_by":"ubuntu"}],"comments":[{"id":11,"issue_id":"bd-3jq","author":"ubuntu","text":"This is the FULL solution for customer data protection (replacing the interim middleware fix in bd-3b6). Serves JSON data from DataStore, requires authentication, supports fallback to static /public/ JSON during migration.","created_at":"2026-01-30T16:48:08Z"}]}
{"id":"bd-3k2","title":"5.3 Build Scenario Builder UI — baseline map, click-to-reassign ZIPs, impact sidebar","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-30T16:15:19.217723180Z","created_by":"ubuntu","updated_at":"2026-01-31T16:30:08.102158662Z","closed_at":"2026-01-31T16:30:08.102097418Z","close_reason":"Completed","compaction_level":0,"original_size":0,"labels":["phase-5"],"dependencies":[{"issue_id":"bd-3k2","depends_on_id":"bd-2ga","type":"blocks","created_at":"2026-01-30T16:16:33.822283226Z","created_by":"ubuntu"},{"issue_id":"bd-3k2","depends_on_id":"bd-3k4","type":"blocks","created_at":"2026-01-30T16:16:33.301461842Z","created_by":"ubuntu"}]}
{"id":"bd-3k4","title":"5.1 Extract Miami scenario data — parse 9 views into Scenario JSON objects","status":"closed","priority":1,"issue_type":"task","assignee":"IndigoPrairie","created_at":"2026-01-30T16:15:18.705497624Z","created_by":"ubuntu","updated_at":"2026-01-31T01:23:59.588782157Z","closed_at":"2026-01-31T01:23:59.588675527Z","close_reason":"Successfully extracted all 9 Miami scenarios (461 ZIP reassignments, .28M revenue impact) into standardized Scenario JSON objects and stored in public/scenarios directory. Enhanced extraction script handles multiple data formats with proper revenue calculations.","compaction_level":0,"original_size":0,"labels":["phase-5"],"comments":[{"id":13,"issue_id":"bd-3k4","author":"ubuntu","text":"Parse each of the 9 Miami scenario view components to extract their ZIP-to-territory assignment data. Output: 9 Scenario JSON objects per the interface in CCPLAN Section 8. Key data: zipCode, fromTerritory, toTerritory, accountCount, revenueImpact.","created_at":"2026-01-30T16:48:08Z"}]}
{"id":"bd-3mq","title":"7.5 Add error handling — try/except with user-friendly messages around all file I/O","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T16:15:43.171740531Z","created_by":"ubuntu","updated_at":"2026-01-30T16:47:27.009402414Z","compaction_level":0,"original_size":0,"labels":["phase-7"],"dependencies":[{"issue_id":"bd-3mq","depends_on_id":"bd-1g1","type":"blocks","created_at":"2026-01-30T16:47:27.009369973Z","created_by":"ubuntu"}]}
{"id":"bd-3ni","title":"7.1 Create pipeline/ directory structure — __init__.py, utils.py, constants.py, tests/","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T16:15:41.390510265Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:17.401242557Z","compaction_level":0,"original_size":0,"labels":["phase-7"]}
{"id":"bd-3pq","title":"Phase 2: Component Decomposition","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-30T16:13:41.144596224Z","created_by":"ubuntu","updated_at":"2026-01-30T19:48:24.834166242Z","closed_at":"2026-01-30T19:48:24.834085350Z","close_reason":"Phase 2 Component Decomposition COMPLETE - All major extractions achieved: ViewRegistry, ViewSelector, FilterPanel, TerritoryContext, MapContainer, LoadingState/EmptyState, MiamiFilterBar integrated. God Component transformed.","compaction_level":0,"original_size":0,"labels":["phase-2"],"dependencies":[{"issue_id":"bd-3pq","depends_on_id":"bd-1a2","type":"blocks","created_at":"2026-01-30T16:16:23.443726909Z","created_by":"ubuntu"}]}
{"id":"bd-3pu","title":"2.7 Create LoadingState and EmptyState shared components","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T16:14:39.893514360Z","created_by":"ubuntu","updated_at":"2026-01-30T19:09:38.378639665Z","closed_at":"2026-01-30T19:09:38.378543826Z","close_reason":"Completed","compaction_level":0,"original_size":0,"labels":["phase-2"]}
{"id":"bd-3qr","title":"6.8 Remove debug console.log statements from production code","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-30T16:15:23.747223559Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:15.393467755Z","compaction_level":0,"original_size":0,"labels":["phase-6"]}
{"id":"bd-3rv","title":"Test issue - verify bv works","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-30T15:59:08.233590714Z","created_by":"ubuntu","updated_at":"2026-01-30T15:59:31.486841130Z","closed_at":"2026-01-30T15:59:31.486664680Z","close_reason":"Test issue - verified bv works","compaction_level":0,"original_size":0}
{"id":"bd-3sc","title":"Fix Phase 2 integration: remove duplicate render + fix routes/revenue props","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-30T23:13:11.009277878Z","created_by":"ubuntu","updated_at":"2026-01-30T23:44:25.054234248Z","closed_at":"2026-01-30T23:44:25.054064470Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-3sf","title":"Fix territory query blocking non-territory locations","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-31T02:42:21.615095498Z","created_by":"ubuntu","updated_at":"2026-01-31T03:12:35.642810038Z","closed_at":"2026-01-31T03:12:35.642685214Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-3u3","title":"6.9 Replace alert() calls with sonner toast notifications","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-30T16:15:24.234599673Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:16.159478241Z","compaction_level":0,"original_size":0,"labels":["phase-6"]}
{"id":"bd-4gs","title":"4.9 Add rate limiting on /api/admin/upload, /api/zip-boundaries, and auth routes","status":"closed","priority":2,"issue_type":"task","assignee":"IndigoPrairie","created_at":"2026-01-30T16:15:46.129407149Z","created_by":"ubuntu","updated_at":"2026-01-31T16:15:52.483096985Z","closed_at":"2026-01-31T16:15:52.482985636Z","close_reason":"Implemented in-memory sliding window rate limiter (lib/rate-limit.ts) with IP-based identification. Applied to: POST /api/admin/upload (5 req/min), POST /api/auth/* (10 req/15min), POST /api/zip-boundaries (30 req/min). Returns 429 with Retry-After header when exceeded. Build passes.","compaction_level":0,"original_size":0,"labels":["phase-4"],"dependencies":[{"issue_id":"bd-4gs","depends_on_id":"bd-2kc","type":"blocks","created_at":"2026-01-30T16:16:39.014216946Z","created_by":"ubuntu"}],"comments":[{"id":2,"issue_id":"bd-4gs","author":"ubuntu","text":"MOVED from Phase 8 to Phase 4. Rate limiting on auth and upload routes is a security concern that belongs with the upload system, not polish. Scope: rate-limit POST /api/admin/upload, POST /api/auth/*, and GET /api/zip-boundaries.","created_at":"2026-01-30T16:47:03Z"}]}
{"id":"bd-508","title":"4.5 Build admin upload UI at /admin/upload","status":"closed","priority":2,"issue_type":"feature","assignee":"IndigoPrairie","created_at":"2026-01-30T16:14:58.982620277Z","created_by":"ubuntu","updated_at":"2026-01-31T16:24:07.168236390Z","closed_at":"2026-01-31T16:24:07.168043200Z","close_reason":"Built admin upload UI at /admin/upload with drag-and-drop file selection, location/dataType dropdowns, backup toggle, progress states, and validation error display. Added link from main admin page. Build passes.","compaction_level":0,"original_size":0,"labels":["phase-4"],"dependencies":[{"issue_id":"bd-508","depends_on_id":"bd-2kc","type":"blocks","created_at":"2026-01-30T16:16:31.931774130Z","created_by":"ubuntu"}]}
{"id":"bd-5ka","title":"7.3 Build pipeline/constants.py — column name constants, sheet names, expected schemas","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-30T16:15:42.421246543Z","created_by":"ubuntu","updated_at":"2026-01-30T16:47:26.670877494Z","compaction_level":0,"original_size":0,"labels":["phase-7"],"dependencies":[{"issue_id":"bd-5ka","depends_on_id":"bd-3ni","type":"blocks","created_at":"2026-01-30T16:47:26.670841306Z","created_by":"ubuntu"}]}
{"id":"bd-6z6","title":"2.5 Extract FilterPanel component — area filter, density mode, account type controls","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:39.450762009Z","created_by":"ubuntu","updated_at":"2026-01-30T19:22:11.839640121Z","closed_at":"2026-01-30T19:22:11.839557718Z","close_reason":"Created components/filter-panel.tsx extracting the duplicated area filter UI from territory-map.tsx. Config-driven with ARIZONA_FILTER_CONFIGS, MIAMI_FILTER_CONFIGS presets including territory colors, emojis, and proper styling. Supports all existing functionality (toggle filters, reset filters) with proper TypeScript types. Includes ArizonaFilterPanel and MiamiFilterPanel preset components. Ready to replace multiple duplicated filter implementations in territory-map.tsx for bd-2zx.","compaction_level":0,"original_size":0,"labels":["phase-2"]}
{"id":"bd-90t","title":"8.1 Make map height responsive — replace fixed 600px with viewport-based calculation","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T16:15:45.392256305Z","created_by":"ubuntu","updated_at":"2026-01-30T16:47:28.748343591Z","compaction_level":0,"original_size":0,"labels":["phase-8"],"dependencies":[{"issue_id":"bd-90t","depends_on_id":"bd-w03","type":"blocks","created_at":"2026-01-30T16:47:28.748308014Z","created_by":"ubuntu"}]}
{"id":"bd-b6k","title":"3.4 URL-based navigation — useSearchParams for location and view mode","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-30T16:14:57.389444002Z","created_by":"ubuntu","updated_at":"2026-01-31T00:08:06.370328199Z","closed_at":"2026-01-31T00:08:06.367711824Z","close_reason":"done","compaction_level":0,"original_size":0,"labels":["phase-3"]}
{"id":"bd-d35","title":"Tighten ViewSelector role gating for admin-only views","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-31T02:42:28.201201973Z","created_by":"ubuntu","updated_at":"2026-01-31T03:12:35.731043649Z","closed_at":"2026-01-31T03:12:35.730952799Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-f3d","title":"Sync TerritoryProvider location with parent prop changes","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-30T23:13:12.452132399Z","created_by":"ubuntu","updated_at":"2026-01-31T00:00:59.532908020Z","closed_at":"2026-01-31T00:00:59.532773558Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-h1b","title":"3.3 Refactor getColor() — replace 213-line if/else with config-driven threshold lookup","status":"closed","priority":2,"issue_type":"task","assignee":"RubyHawk","created_at":"2026-01-30T16:14:57.168227842Z","created_by":"ubuntu","updated_at":"2026-01-30T22:21:40.874344096Z","closed_at":"2026-01-30T22:21:40.874036912Z","close_reason":"done","compaction_level":0,"original_size":0,"labels":["phase-3"],"dependencies":[{"issue_id":"bd-h1b","depends_on_id":"bd-1n8","type":"blocks","created_at":"2026-01-30T16:47:24.439870964Z","created_by":"ubuntu"},{"issue_id":"bd-h1b","depends_on_id":"bd-2hn","type":"blocks","created_at":"2026-01-30T16:47:24.180893438Z","created_by":"ubuntu"}],"comments":[{"id":9,"issue_id":"bd-h1b","author":"ubuntu","text":"The 213-line if/else tree in density-map-view.tsx should become a config-driven threshold lookup table. Each location defines its own color thresholds in locations.config.ts. Adding a location = adding thresholds to config, zero code changes.","created_at":"2026-01-30T16:48:07Z"}]}
{"id":"bd-khs","title":"Fix Next.js JSX parser issue with TerritoryProvider","description":"During bd-1n8 integration, discovered Next.js build failing with JSX parser error on TerritoryProvider component. Error: 'Unexpected token TerritoryProvider. Expected jsx identifier'. Need to investigate and resolve the syntax issue that's preventing builds from completing. May be related to React context provider wrapping or import statement structure.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-30T20:00:22.620297430Z","created_by":"ubuntu","updated_at":"2026-01-30T20:00:22.620297430Z","compaction_level":0,"original_size":0}
{"id":"bd-m73","title":"Align view keys + wire ViewSelector into TerritoryMap","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-31T02:42:25.016417340Z","created_by":"ubuntu","updated_at":"2026-01-31T03:12:35.723695708Z","closed_at":"2026-01-31T03:12:35.723599579Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-n2n","title":"5.5 Migrate Miami scenarios — load 9 extracted scenarios as published","status":"closed","priority":2,"issue_type":"task","assignee":"IndigoPrairie","created_at":"2026-01-30T16:15:20.000348420Z","created_by":"ubuntu","updated_at":"2026-01-31T01:36:53.151576972Z","closed_at":"2026-01-31T01:36:53.151468069Z","close_reason":"Successfully migrated all 9 Miami scenarios to new CRUD API system. Validated 461 ZIP reassignments (.28M revenue impact) against Zod schemas, fixed data quality issues (Hollywood→33021), confirmed API integration with authentication working correctly. All scenarios now accessible via GET /api/scenarios endpoints with proper published status. Generated validation report for documentation. Complete pipeline ready: bd-3k4 (extraction) → bd-2ga (API) → bd-n2n (migration) = full scenario management system.","compaction_level":0,"original_size":0,"labels":["phase-5"],"dependencies":[{"issue_id":"bd-n2n","depends_on_id":"bd-2ga","type":"blocks","created_at":"2026-01-30T17:04:15.222519512Z","created_by":"ubuntu"},{"issue_id":"bd-n2n","depends_on_id":"bd-3k4","type":"blocks","created_at":"2026-01-30T16:16:34.679700930Z","created_by":"ubuntu"}]}
{"id":"bd-pgz","title":"6.4 Consolidate date handling — keep dayjs, remove date-fns","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-30T16:15:22.292178123Z","created_by":"ubuntu","updated_at":"2026-01-30T16:17:12.782268176Z","compaction_level":0,"original_size":0,"labels":["phase-6"]}
{"id":"bd-q97","title":"4.2 Create DataStore abstraction — read/write/exists interface with Vercel Blob or S3 backend","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:58.175897040Z","created_by":"ubuntu","updated_at":"2026-01-31T00:24:00.803920568Z","closed_at":"2026-01-31T00:24:00.803601963Z","close_reason":"done","compaction_level":0,"original_size":0,"labels":["phase-4"],"comments":[{"id":10,"issue_id":"bd-q97","author":"ubuntu","text":"Per CCPLAN Section 10: start with Vercel Blob Storage (native integration, simple API). The key deliverable is the DataStore interface (read/write/exists) — making the backend swappable to S3 or local disk later. Do NOT hardcode to any specific backend.","created_at":"2026-01-30T16:48:07Z"}]}
{"id":"bd-rgz","title":"2.3 Extract shared MiamiFilterBar component (replace 7 copies)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T16:14:39.092592483Z","created_by":"ubuntu","updated_at":"2026-01-30T19:16:57.231243854Z","closed_at":"2026-01-30T19:16:57.231158494Z","close_reason":"Completed","compaction_level":0,"original_size":0,"labels":["phase-2"]}
{"id":"bd-ror","title":"2.9 Create FilterContext — filter state (area, density mode, account type)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:40.442001511Z","created_by":"ubuntu","updated_at":"2026-01-30T19:29:10.499744106Z","closed_at":"2026-01-30T19:29:10.499653798Z","close_reason":"Completed","compaction_level":0,"original_size":0,"labels":["phase-2"]}
{"id":"bd-tj5","title":"2.8 Create TerritoryContext — location, territory data, config for component tree","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T16:14:40.118119939Z","created_by":"ubuntu","updated_at":"2026-01-30T19:35:32.310287311Z","closed_at":"2026-01-30T19:35:32.310205308Z","close_reason":"Completed TerritoryContext implementation","compaction_level":0,"original_size":0,"labels":["phase-2"]}
{"id":"bd-ua1","title":"7.8 Create Makefile — automate ingest, transform, export, verify","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-30T16:15:44.575595734Z","created_by":"ubuntu","updated_at":"2026-01-30T16:47:27.803500016Z","compaction_level":0,"original_size":0,"labels":["phase-7"],"dependencies":[{"issue_id":"bd-ua1","depends_on_id":"bd-1g1","type":"blocks","created_at":"2026-01-30T16:47:27.803448690Z","created_by":"ubuntu"}]}
{"id":"bd-w03","title":"2.6 Create MapContainer shared wrapper — responsive height, loading skeleton, empty state","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T16:14:39.675153679Z","created_by":"ubuntu","updated_at":"2026-01-30T19:37:38.692957876Z","closed_at":"2026-01-30T19:37:38.692869721Z","close_reason":"Completed","compaction_level":0,"original_size":0,"labels":["phase-2"],"dependencies":[{"issue_id":"bd-w03","depends_on_id":"bd-3pu","type":"blocks","created_at":"2026-01-30T18:00:37.167472091Z","created_by":"ubuntu"}]}
{"id":"bd-x6c","title":"Remove hardcoded Prisma generator output path (portable build)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-30T23:44:05.933450163Z","created_by":"ubuntu","updated_at":"2026-01-30T23:44:25.214467085Z","closed_at":"2026-01-30T23:44:25.214361117Z","close_reason":"Completed","compaction_level":0,"original_size":0}
